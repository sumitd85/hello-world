pipeline{
	agent { label 'dockerserver' }
	
	stages{
		stage('Back-end') {
            		agent {
                		docker {
                  			label 'dockerserver'  // both label and image
                  			image 'maven'
            		    	}
			}
			steps{
				sh '''
					 mvn --version					 
				   '''
				sh 'ls -l "$WORKSPACE"'
			}
        	}
		
		stage("Git Checkout"){
			steps{
				git credentialsId: 'github', url:'https://github.com/sumitd85/hello-world.git'
			}
		}
		stage("Mavan Build"){
			steps{
    				sh "mvn clean package"				
			}
		}
	}
	post{
		success{
			sh 'echo Build Successfully Completed!!!'
		}
	}
}
